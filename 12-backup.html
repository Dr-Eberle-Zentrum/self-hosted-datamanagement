<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="de" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Self-hosted Data Management: Backup</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav UT"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Zum Hauptinhalt springen</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="UT-logo" alt="Universität Tübingen" src="assets/images/UT-logo.svg"><span class="badge text-bg-info">
          <abbr title="Diese Lektion befindet sich in der Beta-Phase, was bedeutet, dass sie bereit für den Unterricht durch Dozenten außerhalb des ursprünglichen Autorenteams ist.">
            <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#polishing-beta-stage" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-circle" style="border-radius: 5px"></i>
              Beta
            </a>
            <span class="visually-hidden">Diese Lektion befindet sich in der Beta-Phase, was bedeutet, dass sie bereit für den Unterricht durch Dozenten außerhalb des ursprünglichen Autorenteams ist.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Thema umschalten (automatisch)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Lernansicht <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/12-backup.html';">Dozentenansicht</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav UT" aria-label="Hauptnavigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Navigation umschalten">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menü</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Universität Tübingen" src="assets/images/UT-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Self-hosted Data Management
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Suche auf der All-In-One-Seite" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Self-hosted Data Management
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Hauptpunkte</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossar</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Lernprofile</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            Mehr <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="reference.html">Zusatzinformationen</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Suche auf der All-In-One-Seite"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Suche auf der All-In-One-Seite">Suche auf der All-In-One-Seite</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Self-hosted Data Management
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 85%" class="percentage">
    85%
  </div>
  <div class="progress UT">
    <div class="progress-bar UT" role="progressbar" style="width: 85%" aria-valuenow="85" aria-label="Lernfortschritt" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="Menü schließen" alt="Menü schließen" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Ausblenden " data-episodes="Episoden ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Lernansicht
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/12-backup.html">Dozentenansicht</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODEN
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Zusammenfassung und Einrichtung</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-vorbesprechung.html">1. Vorbesprechung</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-hardware-betriebssystem.html">2. Hardware und Betriebssystem</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-linux-grundlagen.html">3. Linux Schnellstart</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-remote-access.html">4. Remote Access: das SSH-Protokoll</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-sicherheit-1.html">5. Sicherheit: Benutzer und Dateirechte</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-sicherheit-ii.html">6. Sicherheit: Firewall und Fail2Ban</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="07-installationsvorbereitung-1.html">7. Installationsvorbereitung 1</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="08-installationsvorbereitung-2.html">8. Installationsvorbereitung 2</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="09-installationsvorbereitung-3.html">9. Installationsvorbereitung 3</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush11">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading11">
        <a href="10-installationsvorbereitung-4.html">10. Installationsvorbereitung 4</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush12">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading12">
        <a href="11-konfiguration-1.html">11. Installation und Konfiguration</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        12. Backup
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#grundlagen">Grundlagen</a></li>
<li><a href="#der-eigene-backupplan">Der eigene Backupplan</a></li>
<li><a href="#backupscript-erstellen">Backupscript erstellen</a></li>
<li><a href="#cron-und-cronjobs">Cron und Cronjobs</a></li>
<li><a href="#restore">Restore</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush14">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading14">
        <a href="13-konfiguration-2.html">13. Konfiguration 2</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESSOURCEN
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Hauptpunkte</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossar</a>
                      </li>
                      <li>
                        <a href="profiles.html">Lernprofile</a>
                      </li>
                      <li><a href="reference.html">Zusatzinformationen</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="aio.html">Alles auf einer Seite sehen</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Vorheriges und nächstes Kapitel"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="11-konfiguration-1.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Zurück</a>
        <a class="chapter-link float-end" href="13-konfiguration-2.html">Weiter<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="11-konfiguration-1.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Zurück: Installation und
        </a>
        <a class="chapter-link float-end" href="13-konfiguration-2.html" rel="next">
          Weiter: Konfiguration 2...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Backup</h1>
        <p>Zuletzt aktualisiert am 2025-05-28 |

        <a href="https://github.com/Dr-Eberle-Zentrum/self-hosted-datamanagement/edit/main/episodes/12-backup.Rmd" class="external-link">Diese Seite bearbeiten <i aria-hidden="true" data-feather="edit"></i></a></p>



        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Alle Lösungen anzeigen " data-collapse="Alle Lösungen ausblenden "> Alle Lösungen anzeigen <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Übersicht</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Fragen</h3>
<ul><li><p>Was ist beim Thema Backup zu beachten?</p></li>
<li><p>Muss ich meinen Nextcloud-Server sichern?</p></li>
<li><p>Wie kann ich eine Backupstrategie aufsetzen?</p></li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Ziele</h3>
<ul><li><p>Grundlagen zum Thema Backup lernen</p></li>
<li><p>Anwendung der Grundlagen auf das eigene System</p></li>
<li><p>Erstellen und ausführen von Skripten</p></li>
<li><p>Cronjobs zur automatischen Skriptausführung nutzen</p></li>
</ul></div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="grundlagen">Grundlagen<a class="anchor" aria-label="anchor" href="#grundlagen"></a></h2>
<hr class="half-width"><p>Bereits in <a href="07-installationsvorbereitung-1.html">Kapitel
7</a> wurde auf die Notwendigkeit eines Backups eingegangen und die
gesamte Festplatte (bzw. SD-Karte) gesichert. Dadurch besteht eine
Möglichkeit, jederzeit den Stand zum Zeitpunkt von Kapitel 7
wiederherzustellen. Auch jetzt ist es empfehlenswert, ein Backup des
gesamten Systems zu erstellen.</p>
<p>Im laufenden Betrieb eignet sich das Sichern des gesamten Systems
weniger, da einerseits ein manuelles Eingreifen nötig ist und
andererseits auch große Datenmengen anfallen. Deshalb wird in diesem
Kapitel ein Verfahren aufgezeigt, welches es ermöglicht, im laufenden
Betrieb automatisiert Backups zu erstellen.</p>
<div class="section level3">
<h3 id="was-muss-gesichert-werden">Was muss gesichert werden?<a class="anchor" aria-label="anchor" href="#was-muss-gesichert-werden"></a></h3>
<p>Welche Inhalte eines Systems gesichert werden sollen, ist von den
eigenen Bedürfnissen abhängig. Es kann jedoch zwischen drei
Hauptkategorien an Daten unterschieden werden:</p>
<ul><li><p>Dateien (Bilder,Dokumente, Videos, Emails…)</p></li>
<li><p>Programme und Lizenzen (Installationsdateien, Konfigurationen,
ganze Installationen)</p></li>
<li><p>System (Betriebssystem mit (allen?) Konfigurationen)</p></li>
</ul><p>In vielen Fällen wird die Sicherung der Dateien ausreichen, da
Programme und System mit etwas Zeitaufwand wieder neu aufgesetzt werden
können. In zeitkritischen Umgebungen, wenn ein defektes System schnell
wieder verfügbar sein muss, empfiehlt es sich aber, dass gesamte System
zu sichern.</p>
</div>
<div class="section level3">
<h3 id="wie-muss-gesichert-werden">Wie muss gesichert werden?<a class="anchor" aria-label="anchor" href="#wie-muss-gesichert-werden"></a></h3>
<p>Es kann zwischen drei Varianten einer Sicherung unterschieden
werden:</p>
<ul><li><p>Vollsicherung</p></li>
<li><p>Differentielle Sicherung</p></li>
<li><p>Inkrementelle Sicherung</p></li>
</ul><p>Bei der <strong>Vollsicherung</strong> werden zu jeder Sicherungszeit
(z.B. täglich oder wöchentlich) alle Daten gesichert. Der Vorteil dieser
Variante ist, dass für eine Wiederherstellung der Daten nur die letzte
Sicherungsversion benötigt wird. Der Nachteil liegt im großen Speicher-
und Zeitbedarf, da bei jeder Sicherung alle Daten kopiert werden müssen,
also sowohl die ursprünglichen Daten, als auch die Daten, die seit der
letzten Sicherung neu hinzugekommen sind.</p>
<figure><img src="fig/12_vollsicherung.png" alt="Diagramm, welches für jeden Wochentag einen Wert für den Speicherbedarf der Vollsicherung in TB anzeigt. Montags werden 4 TB benötigt. Mit jeder weiteren Sicherung erhöht sich der Betrag um neu hinzugekommene Daten. Am Ende der Woche werden 8,5 TB benötigt" class="figure mx-auto d-block"><div class="figcaption">Speicherbedarf einer täglichen Vollsicherung im
Wochenverlauf mit täglich steigendem Speicherbedarf</div>
</figure><p>Bei der <strong>differentiellen Sicherung</strong> wird zur ersten
Sicherungszeit eine Vollsicherung durchgeführt. Anschließend wird jeden
Tag eine Sicherung erstellt, welche alle seit der letzten Vollsicherung
geänderten oder neu erstellten Daten enthält. Der Vorteil dieser
Variante besteht darin, dass bei einer Wiederherstellung nur die letzte
Vollsicherung und die letzte differentielle Sicherung benötigt werden.
Der Nachteil liegt wie bei der Vollsicherung darin, dass nach wie vor
ein großer Speicherplatzbedarf besteht und die Daten dupliziert
vorliegen.</p>
<figure><img src="fig/12_differentiell.png" alt="Diagramm, welches für jeden Wochentag einen Wert für den Speicherbedarf der differentiellen Sicherung in TB anzeigt. Montags werden 4 TB benötigt. Dienstags wird nur 1 TB für neue Daten benötigt. Jede weitere Sicherung benötigt jeweils den Bedarf des Vortags plus neu hinzugekommen Daten. Am Wochenende beträgt der Bedarf 4,7 TB" class="figure mx-auto d-block"><div class="figcaption">Speicherbedarf einer täglichen differentiellen
Sicherung im Wochenverlauf</div>
</figure><p>Bei der <strong>inkrementellen Sicherung</strong> werden jeden Tag
nur diejenigen Daten gesichert, die an diesem Tag geändert bzw. neu
hinzugekommen sind. Der Vorteil der inkrementellen Variante besteht
darin, dass vergleichsweise wenig Zeit und Speicherplatz benötigt wird,
da nur zu Beginn eine Vollsicherung erstellt wird und zu jeder weiteren
Sicherungszeit nur die Änderungen gesichert werden. Der Nachteil besteht
darin, dass im Falle einer Wiederherstellung die letzte Vollsicherung
und alle inkrementellen Zwischensicherungen benötigt werden.</p>
<figure><img src="fig/12_inkrementell.png" alt="Diagramm, welches für jeden Wochentag einen Wert für den Speicherbedarf der inkrementellen Sicherung in TB anzeigt. Montags werden 4 TB benötigt. Dienstags wird nur 1 TB für neue Daten benötigt. Jede weitere Sicherung benötigt nur den Bedarf der an diesem Tag neu hinzugekommen Daten." class="figure mx-auto d-block"><div class="figcaption">Speicherbedarf einer täglichen inkrementellen
Sicherung im Wochenverlauf</div>
</figure><p>Neben der Art der Sicherung, muss auch überlegt werden, wie die
einzelnen Sicherungsversionen aufgehoben werden. Im obigen Beispiel zu
einer täglichen inkrementellen Sicherung und einer wöchentlichen
Vollsicherung können z.B. die Vollsicherung und die inkrementellen
Zwischensicherungen nur solange aufgehoben werden, bis eine neue
Vollsicherung erstellt wurde. Möchte man jedoch gewährleisten, auch auf
einen Datenstand von vor 6 Monaten zurück gehen zu können, sollten die
Sicherungen länger aufgehoben werden. Z.B. könnte dann eine monatliche
Vollsicherung in jeweils sechs Versionen aufbewahrt werden. Wird eine
siebte Version erstellt, wird die älteste gelöscht.</p>
<p>Ein bekanntes Schema zur Versionierung von Sicherungen ist das
Generationenprinzip (auch als Großvater-Vater-Sohn-Prinzip bezeichnet).
Bei diesem Prinzip werden täglich Backups erstellt. Diese werden eine
Woche lang aufbewahrt. Anschließend werden die täglichen Versionen zu
einem Wochenbackup zusammengefasst. Die wöchentlichen Backups werden für
einen Monat aufbewahrt und nach einem Monat zu einer Monatssicherung
zusammen gefasst. Diese monatlichen Sicherungen werden für 12 Monate
aufbewahrt. Dadurch bestehen für die letzten sieben Tage jeweils
tägliche Versionen, für den letzten Monat wöchentliche Versionen und für
das letzte Jahr noch monatliche Versionen. Graphisch ist dieses
Verfahren <a href="https://images.vogel.de/infodienste/smimagedata/1/4/1/6/5/9/53.jpg" class="external-link">hier</a>
dargestellt.</p>
</div>
<div class="section level3">
<h3 id="wo-muss-gesichert-werden">Wo muss gesichert werden?<a class="anchor" aria-label="anchor" href="#wo-muss-gesichert-werden"></a></h3>
<p>Ist geklärt, was und wie gesichert werden soll, muss noch geklärt
werden, wo gespeichert werden soll. Grundlegend sollten Sicherungen
nicht auf demselben physischen Datenträger wie die Originaldaten
gespeichert werden. Die <strong>3-2-1-Regel</strong> gilt als ein guter
Richtwert: 3 Kopien auf 2 unterschiedlichen Medien, 1 Offsite-Kopie.
Speichert man auf unterschiedlichen Medien, hat man mehr Felxibilität
bei der Wiederherstellung. Die Offsite-Kopie an einem anderen Ort wird
wichtig, wenn am ursprünglichen Serverstandort ein größerer Schaden
Eintritt (z.B. Feuer, Wasser, Kurzschluss oder Einbruch).</p>
<p>Mehr zum Thema Datensicherung findet sich z.B. auch bei <a href="https://wiki.ubuntuusers.de/Datensicherung/" class="external-link">Ubuntuusers</a> oder
bei <a href="https://www.netzwelt.de/sicherheit/backup/backup-arten-erklaert.html" class="external-link">Netzwelt</a>.</p>
</div>
</section><section><h2 class="section-heading" id="der-eigene-backupplan">Der eigene Backupplan<a class="anchor" aria-label="anchor" href="#der-eigene-backupplan"></a></h2>
<hr class="half-width"><p>Die zuvor dargestellten Methoden und Standards sind nicht immer
einfach umzusetzen. Das ist mit ein Grund dafür, dass in vielen Fällen
keine Sicherungen gemacht werden, da der Aufwand für die Implementierung
einer Sicherungsstrategie zu groß erscheint. Deshalb ist es insbesondere
für Heimanwender und kleinere Organisationen mit wenig zeitkritischen
Daten oftmals besser ein mittelmäßiges Backup zu haben als gar keines
und dafür nicht alle der zuvor genannten Regeln zu befolgen.</p>
<div id="backup-für-den-nextcloud-server" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="backup-für-den-nextcloud-server" class="callout-inner">
<h3 class="callout-title">Backup für den Nextcloud-Server</h3>
<div class="callout-content">
<p>Überlegen Sie sich, wie Sie Ihren Nextcloud-Server sichern können.
Was (welche Daten) sollten Sie sichern? Wie sichern Sie (mit welcher
Variante)? Suchen Sie im Internet nach Programmen oder Workflows, um
eine Nextcloud-Instanz zu sichern. Wo speichern Sie die Sicherungen?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Zeige mir die Lösung </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>Das <a href="https://docs.nextcloud.com/server/stable/admin_manual/maintenance/backup.html" class="external-link">Handbuch</a>
listet die grundlegenden Schritte auf, um den Nextcloud-Server zu
sichern: 1. das Konfigurationsverzeichnis unter
<code>/var/www/nextcloud/config</code>, 2. das Datenverzeichnis, z.B.
unter <code>/mnt/data/ncdata</code>, 3. der Theme-Folder unter
<code>/var/www/nextcloud/themes</code> (nur wichtig wenn eigene Themes
genutzt werden) und 4. die Nextcloud-Datenbank des MariaDB-Servers.</p>
<p>Sinnvollerweise wird man eine inkrementelle Sicherung wählen, um Zeit
und Speicherplatz zu sparen. Während das Handbuch zwar die einzelnen
manuellen Schritte aufzeigt (Maintanance-Modus aktivieren, Ordner mit
rsync sichern, Datenbank mit mysqldump sichern) gibt es viele Tools mit
denen Nextcloud gesichert werden kann. Z.B. <a href="https://www.c-rieger.de/backup-mit-de-duplizierung/" class="external-link">Borg-Backup</a>,
<a href="https://www.youtube.com/watch?v=7ZayfpZsgk0" class="external-link">Duplicati</a> oder
die Nextcloud-integrierte <a href="https://apps.nextcloud.com/apps/backup" class="external-link">Backup-App</a>. Eine
weitere Möglichkeit besteht im schreiben eines eigenen Skripts (eines
Mini-Programms), welches leicht an die eigenen Bedürfnisse angepasst
werden kann.</p>
<p>Die Sicherungen können zunächst auf einer zweiten Festplatte, die am
Raspberry Pi eingebunden ist, gespeichert werden. Mehr Unabhängigkeit
vom Hauptsystem erhält man, wenn man die Sicherung über das Netzwerk auf
einem zweiten Gerät speichert. Das kann z.B. per <a href="https://wiki.ubuntuusers.de/Samba_Server/" class="external-link">Netzlaufwerk im
Heimnetz</a> geschehen oder per SSH auf entfernte Rechner (<a href="https://medium.com/@techfocuspro/raspberry-pi-remote-backup-ensuring-your-datas-safety-4b50848f4817" class="external-link">medium.com</a>
oder <a href="https://bioslevel.com/article/backing-up-to-a-remote-server-with-ssh-and-rsync/" class="external-link">bioslevel.com</a>).</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="backupscript-erstellen">Backupscript erstellen<a class="anchor" aria-label="anchor" href="#backupscript-erstellen"></a></h2>
<hr class="half-width"><p>Eine verhältnismäßig simple Backup-Lösung für Nextcloud ist ein
Bash-Skript, in welchem die Befehle aus dem Handbuch eingetragen werden
und welches dann zeitgesteuert ausgeführt wird.</p>
<div class="section level3">
<h3 id="bash-skripting">Bash-Skripting<a class="anchor" aria-label="anchor" href="#bash-skripting"></a></h3>
<p>Ohne den Anspruch auf Vollständigkeit zu erheben sei kurz auf die
absoluten Grundlagen des Bash-Skriptings eingegangen. Beim
Bash-Skripting werden die Befehle, die man normalerweise nach einander
auf der Kommandozeile tippt, gesammelt in eine Textdatei geschrieben,
ein sogenanntes Bash-Skript. Dieses wird immer mit der Shebang
bezeichneten Syntax in der ersten Zeile eingeleitet:
<code>#!/bin/bash</code></p>
<p>Anschließend können Befehle wie auf der Kommandozeile geschrieben
werden, das Skript gespeichert und mit <code>sudo chmod ug+x</code>
ausführbar gemacht werden.</p>
<p>Beispiel:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="co"># Das ist ein Kommentar. Der wird ignoriert</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="co"># Mit echo kann Text ausgegeben werden</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="bu">echo</span> Hallo Welt</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="co"># Mit touch kann eine neue Datei text.txt erstellt werden</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="fu">touch</span> text.txt</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="co"># mit find kann nach Dateien gesucht werden</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="fu">find</span> . text.<span class="pp">*</span></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="co"># mit rm können Dateien gelöscht werden</span></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="fu">rm</span> text.txt</span></code></pre>
</div>
<p>Bei Ubuntuusers findet sich ein <a href="https://wiki.ubuntuusers.de/Shell/Bash-Skripting-Guide_f%C3%BCr_Anf%C3%A4nger/" class="external-link">Skripting-Guide</a>
mit mehr Details</p>
</div>
<div class="section level3">
<h3 id="nextcloud-backup-mit-bash-skript">Nextcloud-Backup mit Bash-Skript<a class="anchor" aria-label="anchor" href="#nextcloud-backup-mit-bash-skript"></a></h3>
<p>Für einen Nextcloud-Server könnte ein Skript in den Grundzügen wie
folgt aussehen (keine Garantie auf Korrektheit oder
Vollständigkeit):</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="co"># Backup-Zielverzeinis als Variable definieren</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="va">backup_dir</span><span class="op">=</span><span class="st">'/mnt/data/backup_nextcloud'</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="co"># Backup-Quellen als Variable definieren</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="va">data_dir</span><span class="op">=</span><span class="st">'/mnt/data/nextcloud/'</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="va">themes_dir</span><span class="op">=</span><span class="st">'/var/www/nextcloud/themes'</span> </span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="va">config_dir</span><span class="op">=</span><span class="st">'/var/www/nextcloud/config'</span></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="co">#Zeitstempel als Variable</span></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="va">datetime</span><span class="op">=</span><span class="st">"</span><span class="va">$(</span><span class="fu">date</span> +<span class="st">'%Y-%m-%d_%H-%M-%S'</span><span class="va">)</span><span class="st">"</span></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="co">#Link zum letzten Backup definieren</span></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="va">latest_link</span><span class="op">=</span><span class="st">"</span><span class="va">${backup_dir}</span><span class="st">/latest"</span></span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a><span class="co"># Pfade erstellen</span></span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="co">## Backup-Verzeichnis</span></span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a><span class="cf">if</span> <span class="bu">[</span> <span class="ot">!</span> <span class="ot">-d</span> <span class="va">$backup_dir</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"erstelle Backupverzeichnis </span><span class="va">$backup_dir</span><span class="st">"</span></span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a>    <span class="fu">mkdir</span> <span class="va">$backup_dir</span></span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a>    </span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a><span class="cf">elif</span> <span class="bu">[</span> <span class="ot">-d</span> <span class="va">$backup_dir</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"</span><span class="va">$backup_dir</span><span class="st"> existiert bereits"</span></span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a><span class="cf">fi</span>    </span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a><span class="co">##Unterverzeichnisse</span></span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">[</span> <span class="ot">!</span> <span class="ot">-d</span> <span class="st">"</span><span class="va">$backup_dir</span><span class="st">/data"</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a>    	<span class="bu">echo</span> <span class="st">"erstelle Unterverzeichnis "</span>Data<span class="st">""</span></span>
<span id="cb2-28"><a href="#cb2-28" tabindex="-1"></a>    	<span class="fu">mkdir</span> <span class="st">"</span><span class="va">$backup_dir</span><span class="st">/data"</span></span>
<span id="cb2-29"><a href="#cb2-29" tabindex="-1"></a>    <span class="cf">elif</span> <span class="bu">[</span> <span class="ot">-d</span> <span class="st">"</span><span class="va">$backup_dir</span><span class="st">/data"</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb2-30"><a href="#cb2-30" tabindex="-1"></a>	<span class="bu">echo</span> <span class="st">" Unterverzeichnis "</span>Data<span class="st">" existiert bereits"</span></span>
<span id="cb2-31"><a href="#cb2-31" tabindex="-1"></a>    <span class="cf">fi</span> </span>
<span id="cb2-32"><a href="#cb2-32" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">[</span> <span class="ot">!</span> <span class="ot">-d</span> <span class="st">"</span><span class="va">$backup_dir</span><span class="st">/config"</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb2-33"><a href="#cb2-33" tabindex="-1"></a>    	<span class="bu">echo</span> <span class="st">"erstelle Unterverzeichnis "</span>config<span class="st">""</span></span>
<span id="cb2-34"><a href="#cb2-34" tabindex="-1"></a>    	<span class="fu">mkdir</span> <span class="st">"</span><span class="va">$backup_dir</span><span class="st">/config"</span></span>
<span id="cb2-35"><a href="#cb2-35" tabindex="-1"></a>    <span class="cf">elif</span> <span class="bu">[</span> <span class="ot">-d</span> <span class="st">"</span><span class="va">$backup_dir</span><span class="st">/config"</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb2-36"><a href="#cb2-36" tabindex="-1"></a>	<span class="bu">echo</span> <span class="st">" Unterverzeichnis "</span>config<span class="st">" existiert bereits"</span></span>
<span id="cb2-37"><a href="#cb2-37" tabindex="-1"></a>    <span class="cf">fi</span></span>
<span id="cb2-38"><a href="#cb2-38" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">[</span> <span class="ot">!</span> <span class="ot">-d</span> <span class="st">"</span><span class="va">$backup_dir</span><span class="st">/themes"</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb2-39"><a href="#cb2-39" tabindex="-1"></a>        <span class="bu">echo</span> <span class="st">"erstelle Unterverzeichnis "</span>themes<span class="st">""</span></span>
<span id="cb2-40"><a href="#cb2-40" tabindex="-1"></a>        <span class="fu">mkdir</span> <span class="st">"</span><span class="va">$backup_dir</span><span class="st">/themes"</span></span>
<span id="cb2-41"><a href="#cb2-41" tabindex="-1"></a>    <span class="cf">elif</span> <span class="bu">[</span> <span class="ot">-d</span> <span class="st">"</span><span class="va">$backup_dir</span><span class="st">/themes"</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb2-42"><a href="#cb2-42" tabindex="-1"></a>        <span class="bu">echo</span> <span class="st">" Unterverzeichnis "</span>themes<span class="st">" existiert bereits"</span></span>
<span id="cb2-43"><a href="#cb2-43" tabindex="-1"></a>    <span class="cf">fi</span></span>
<span id="cb2-44"><a href="#cb2-44" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">[</span> <span class="ot">!</span> <span class="ot">-d</span> <span class="st">"</span><span class="va">$backup_dir</span><span class="st">/databases"</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb2-45"><a href="#cb2-45" tabindex="-1"></a>    	<span class="bu">echo</span> <span class="st">"erstelle Unterverzeichnis "</span>databases<span class="st">""</span></span>
<span id="cb2-46"><a href="#cb2-46" tabindex="-1"></a>    	<span class="fu">mkdir</span> <span class="st">"</span><span class="va">$backup_dir</span><span class="st">/databases"</span></span>
<span id="cb2-47"><a href="#cb2-47" tabindex="-1"></a>    <span class="cf">elif</span> <span class="bu">[</span> <span class="ot">-d</span> <span class="st">"</span><span class="va">$backup_dir</span><span class="st">/databases"</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb2-48"><a href="#cb2-48" tabindex="-1"></a>	<span class="bu">echo</span> <span class="st">" Unterverzeichnis "</span>databases<span class="st">" existiert bereits"</span></span>
<span id="cb2-49"><a href="#cb2-49" tabindex="-1"></a>    <span class="cf">fi</span></span>
<span id="cb2-50"><a href="#cb2-50" tabindex="-1"></a><span class="co">## Latest-Verzeichnis</span></span>
<span id="cb2-51"><a href="#cb2-51" tabindex="-1"></a><span class="cf">if</span> <span class="bu">[</span> <span class="ot">!</span> <span class="ot">-d</span> <span class="va">$latest_link</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb2-52"><a href="#cb2-52" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"erstelle Latest-verzeichnis </span><span class="va">$latest_link</span><span class="st">"</span></span>
<span id="cb2-53"><a href="#cb2-53" tabindex="-1"></a>    <span class="fu">mkdir</span> <span class="va">$latest_link</span></span>
<span id="cb2-54"><a href="#cb2-54" tabindex="-1"></a><span class="cf">elif</span> <span class="bu">[</span> <span class="ot">-d</span> <span class="va">$latest_link</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb2-55"><a href="#cb2-55" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"</span><span class="va">$latest_link</span><span class="st"> existiert bereits"</span></span>
<span id="cb2-56"><a href="#cb2-56" tabindex="-1"></a><span class="cf">fi</span></span>
<span id="cb2-57"><a href="#cb2-57" tabindex="-1"></a></span>
<span id="cb2-58"><a href="#cb2-58" tabindex="-1"></a><span class="co">#Latest-Links erstellen</span></span>
<span id="cb2-59"><a href="#cb2-59" tabindex="-1"></a><span class="fu">ln</span> <span class="at">-s</span> <span class="st">"</span><span class="va">${backup_dir}</span><span class="st">/data/</span><span class="va">${datetime}</span><span class="st">"</span> <span class="st">"</span><span class="va">${latest_link}</span><span class="st">/data"</span></span>
<span id="cb2-60"><a href="#cb2-60" tabindex="-1"></a><span class="fu">ln</span> <span class="at">-s</span> <span class="st">"</span><span class="va">${backup_dir}</span><span class="st">/config/</span><span class="va">${datetime}</span><span class="st">"</span> <span class="st">"</span><span class="va">${latest_link}</span><span class="st">/config"</span></span>
<span id="cb2-61"><a href="#cb2-61" tabindex="-1"></a><span class="fu">ln</span> <span class="at">-s</span> <span class="st">"</span><span class="va">${backup_dir}</span><span class="st">/themes/</span><span class="va">${datetime}</span><span class="st">"</span> <span class="st">"</span><span class="va">${latest_link}</span><span class="st">/themes"</span></span>
<span id="cb2-62"><a href="#cb2-62" tabindex="-1"></a></span>
<span id="cb2-63"><a href="#cb2-63" tabindex="-1"></a><span class="co"># Nextcloud in den Maintenance mode versetzen</span></span>
<span id="cb2-64"><a href="#cb2-64" tabindex="-1"></a><span class="fu">sudo</span> <span class="at">-u</span> www-data php /var/www/nextcloud/occ maintenance:mode <span class="at">--on</span></span>
<span id="cb2-65"><a href="#cb2-65" tabindex="-1"></a></span>
<span id="cb2-66"><a href="#cb2-66" tabindex="-1"></a><span class="co"># Inkrementelles Backup der Daten erstellen:</span></span>
<span id="cb2-67"><a href="#cb2-67" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"trying backup data directory"</span></span>
<span id="cb2-68"><a href="#cb2-68" tabindex="-1"></a><span class="fu">rsync</span> <span class="at">-Aax</span> <span class="at">--delete</span>  <span class="st">"</span><span class="va">${data_dir}</span><span class="st">"</span> <span class="dt">\</span></span>
<span id="cb2-69"><a href="#cb2-69" tabindex="-1"></a>    <span class="at">--link-dest</span> <span class="st">"</span><span class="va">${latest_link}</span><span class="st">/data"</span> <span class="dt">\</span></span>
<span id="cb2-70"><a href="#cb2-70" tabindex="-1"></a>     <span class="st">"</span><span class="va">${backup_dir}</span><span class="st">/data/</span><span class="va">${datetime}</span><span class="st">"</span></span>
<span id="cb2-71"><a href="#cb2-71" tabindex="-1"></a></span>
<span id="cb2-72"><a href="#cb2-72" tabindex="-1"></a><span class="co"># Inkrementelles Backup des Konfigurationsverzeichnisses durchführen</span></span>
<span id="cb2-73"><a href="#cb2-73" tabindex="-1"></a><span class="fu">rsync</span> <span class="at">-Aax</span> <span class="at">--delete</span> <span class="at">--exclude</span> <span class="st">'ccnet.sock'</span> <span class="st">"</span><span class="va">${config_dir}</span><span class="st">"</span> <span class="dt">\</span></span>
<span id="cb2-74"><a href="#cb2-74" tabindex="-1"></a>    <span class="at">--link-dest</span> <span class="st">"</span><span class="va">${latest_link}</span><span class="st">/config"</span> <span class="dt">\</span></span>
<span id="cb2-75"><a href="#cb2-75" tabindex="-1"></a>    <span class="st">"</span><span class="va">${backup_dir}</span><span class="st">/config/</span><span class="va">${datetime}</span><span class="st">"</span></span>
<span id="cb2-76"><a href="#cb2-76" tabindex="-1"></a></span>
<span id="cb2-77"><a href="#cb2-77" tabindex="-1"></a><span class="fu">rsync</span> <span class="at">-Aax</span> <span class="at">--delete</span> <span class="st">"</span><span class="va">${themes_dir}</span><span class="st">"</span> <span class="dt">\</span></span>
<span id="cb2-78"><a href="#cb2-78" tabindex="-1"></a>    <span class="at">--link-dest</span> <span class="st">"</span><span class="va">${latest_link}</span><span class="st">/themes"</span> <span class="dt">\</span></span>
<span id="cb2-79"><a href="#cb2-79" tabindex="-1"></a>    <span class="st">"</span><span class="va">${backup_dir}</span><span class="st">/themes/</span><span class="va">${datetime}</span><span class="st">"</span></span>
<span id="cb2-80"><a href="#cb2-80" tabindex="-1"></a></span>
<span id="cb2-81"><a href="#cb2-81" tabindex="-1"></a><span class="co">#Latest-Verweis aktualisieren</span></span>
<span id="cb2-82"><a href="#cb2-82" tabindex="-1"></a><span class="fu">rm</span> <span class="st">"</span><span class="va">${latest_link}</span><span class="st">/data"</span></span>
<span id="cb2-83"><a href="#cb2-83" tabindex="-1"></a><span class="fu">rm</span> <span class="st">"</span><span class="va">${latest_link}</span><span class="st">/config"</span></span>
<span id="cb2-84"><a href="#cb2-84" tabindex="-1"></a><span class="fu">rm</span> <span class="st">"</span><span class="va">${latest_link}</span><span class="st">/themes"</span></span>
<span id="cb2-85"><a href="#cb2-85" tabindex="-1"></a></span>
<span id="cb2-86"><a href="#cb2-86" tabindex="-1"></a><span class="fu">ln</span> <span class="at">-s</span> <span class="st">"</span><span class="va">${backup_dir}</span><span class="st">/data/</span><span class="va">${datetime}</span><span class="st">"</span> <span class="st">"</span><span class="va">${latest_link}</span><span class="st">/data"</span></span>
<span id="cb2-87"><a href="#cb2-87" tabindex="-1"></a><span class="fu">ln</span> <span class="at">-s</span> <span class="st">"</span><span class="va">${backup_dir}</span><span class="st">/config/</span><span class="va">${datetime}</span><span class="st">"</span> <span class="st">"</span><span class="va">${latest_link}</span><span class="st">/config"</span></span>
<span id="cb2-88"><a href="#cb2-88" tabindex="-1"></a><span class="fu">ln</span> <span class="at">-s</span> <span class="st">"</span><span class="va">${backup_dir}</span><span class="st">/themes/</span><span class="va">${datetime}</span><span class="st">"</span> <span class="st">"</span><span class="va">${latest_link}</span><span class="st">/themes"</span></span>
<span id="cb2-89"><a href="#cb2-89" tabindex="-1"></a></span>
<span id="cb2-90"><a href="#cb2-90" tabindex="-1"></a><span class="co"># create mysql database backup:</span></span>
<span id="cb2-91"><a href="#cb2-91" tabindex="-1"></a><span class="fu">sudo</span> mysqldump <span class="at">--single-transaction</span> <span class="at">--default-character-set</span><span class="op">=</span>utf8mb4 <span class="at">-h</span> localhost nextcloud <span class="op">&gt;</span> <span class="st">"</span><span class="va">${backup_dir}</span><span class="st">/databases/"</span>nextcloud-sqlbkp_<span class="kw">`</span><span class="fu">date</span> +<span class="st">"%Y-%m-%d-%H-%M-%S"</span><span class="kw">`</span>.bak</span>
<span id="cb2-92"><a href="#cb2-92" tabindex="-1"></a></span>
<span id="cb2-93"><a href="#cb2-93" tabindex="-1"></a><span class="co"># Maintenance mode beenden</span></span>
<span id="cb2-94"><a href="#cb2-94" tabindex="-1"></a><span class="fu">sudo</span> <span class="at">-u</span> www-data php /var/www/nextcloud/occ maintenance:mode <span class="at">--off</span></span>
<span id="cb2-95"><a href="#cb2-95" tabindex="-1"></a></span>
<span id="cb2-96"><a href="#cb2-96" tabindex="-1"></a><span class="co">#21 Tage alte Backups suchen und loeschen</span></span>
<span id="cb2-97"><a href="#cb2-97" tabindex="-1"></a><span class="fu">find</span> <span class="va">$backup_dir</span>/data <span class="at">-maxdepth</span> 1 <span class="at">-mtime</span> +21 <span class="at">-type</span> d <span class="at">-exec</span> rm <span class="at">-rf</span> {} +</span>
<span id="cb2-98"><a href="#cb2-98" tabindex="-1"></a><span class="fu">find</span> <span class="va">$backup_dir</span>/config <span class="at">-maxdepth</span> 1 <span class="at">-mtime</span> +21 <span class="at">-type</span> d <span class="at">-exec</span> rm <span class="at">-rf</span> {} +</span>
<span id="cb2-99"><a href="#cb2-99" tabindex="-1"></a><span class="fu">find</span> <span class="va">$backup_dir</span>/themes <span class="at">-maxdepth</span> 1 <span class="at">-mtime</span> +21 <span class="at">-type</span> d <span class="at">-exec</span> rm <span class="at">-rf</span> {} +</span>
<span id="cb2-100"><a href="#cb2-100" tabindex="-1"></a><span class="fu">find</span> <span class="va">$backup_dir</span>/databases <span class="at">-maxdepth</span> 1 <span class="at">-mtime</span> +21 <span class="at">-type</span> f <span class="at">-exec</span> rm {} +</span></code></pre>
</div>
<div id="backup-skript-lesen-und-verstehen" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="backup-skript-lesen-und-verstehen" class="callout-inner">
<h3 class="callout-title">Backup-Skript lesen und verstehen</h3>
<div class="callout-content">
<p>Schauen Sie sich das oben gezeigte Backup-Skript genau an. Können Sie
verstehen, was dieses Skript macht? Welche Parameter müssen Sie
anpassen, damit dieses Skript für Ihr Setup funktioniert? Was sind die
essentiellen Befehle, die ausgeführt werden?</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Zeige mir die Lösung </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>Von oben nach unten macht das Skript folgendes:</p>
<p>Es werden Variablen für die Backupquelle, das Backupziel und die
aktuelle Zeit definiert.</p>
<p>Es werden leere Verzeichnisse im Backupziel erstellt, sofern diese
noch nicht vorhanden sind.</p>
<p>Es werden Links auf die aktuelle Backupversion erstellt.</p>
<p>Nextcloud wird mit dem occ-Tool in den maintanace-Modus versetzt.</p>
<p>Mit rsync werden die Datenverzeichnisse gesichert.</p>
<p>Mit mysqldump wird die Datenbank gesichert.</p>
<p>Mit dem occ-Tool wird der maintanance-Modus wieder verlassen.</p>
<p>mit dem find-Befehl werden Sicherungsversionen, die älter als 21 Tage
sind, gelöscht.</p>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="cron-und-cronjobs">Cron und Cronjobs<a class="anchor" aria-label="anchor" href="#cron-und-cronjobs"></a></h2>
<hr class="half-width"><p>Hat man ein Skript erstellt, sollte dieses manuell getestet werden,
indem es auf der Kommandozeile aufgerufen wird: <code>./skript.sh</code>
Benötigen die Befehle im Skript sudo-Rechte, muss das Skript auch mit
sudo-Rechten ausegführt werden (ACHTUNG: dann werden alle Befehle mit
root-Rechten ausgeführt): <code>sudo ./skript.sh</code></p>
<p>Ist der manuelle Test erfolgreich verlaufen, kann das Skript mittels
Cron automatisch zu bestimmten Zeiten ausgeführt werden. Wie im
vorherigen Kapitel zur Nextcloud-Konfiguration erwähnt, ist Cron ein
Programm, mit welchem Befehle zu bestimmten Zeiten automatisch
ausgeführt werden. Diese Befehle werden in der Crontabelle gespeichert.
Jeder User des Betriebssystems hat eine eigene Crontabelle. Soll ein
Befehl mit Root-Rechten ausgeführt werden, muss der Befehl in die
Crontabelle des root-Accounts eingetragen werden, Befehle, die durch den
www-data-User ausgeführt werden sollen, gehören in dessen
Cron-Tabelle.</p>
<p>Die Crontabelle eines Users kann wie folgt angezeigt werden:
<code>sudo crontab -u &lt;username&gt; -l</code> Um die Tabelle zu
ändern lautet der Befehl wie folgt:
<code>sudo crontab -u &lt;username&gt; -e</code></p>
<p>Die Einträge für jeden Cron-Job (also jeden auszuführenden Befehl)
sind wie folgt aufgebaut: Zeitangabe für die Ausführung und
auszuführender Befehl. Die Zeitangabe erfolgt dabei in fünf einzelnen
Einheiten: 1. Angabe der Minute (0-59), 2. Angabe der Stunde (0-23), 3.
Angabe des Tages (1-31), 4. Angabe des Monats (1-12) und 5. Angabe des
Wochentages (0-7). Mehr zu cron findet sich z.B. <a href="https://wiki.ubuntuusers.de/Cron/" class="external-link">Ubuntuusers</a>.</p>
<p>Beispiel: um das Skript backup.sh im Verzeichnis
<code>/home/administrator/</code> jeden Montag um 14:30 auszuführen
lautet der Eintrag wie folgt:</p>
<pre><code>30 14 * * 1 sh /home/administrator/backup.sh</code></pre>
<p>Ist der Cronjob erstellt, muss überprüft werden, ob das Skript zur
eingestellten Zeit tatsächlich läuft und das gewünschte Ergebnis
liefert.</p>
<div id="callout1" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Wichtig</h3>
<div class="callout-content">
<p><strong>ACHTUNG:</strong> Das Backupskript wird mit root-Rechten
ausgeführt. Deshalb muss die Datei selbst vor Änderungen durch andere
User geschützt werden. Sonst könnten nicht berechtigte User das Skript
ändern und Befehle mit root-Rechten ausführen lassen (z.B. sich selbst
zur sudo-Gruppe hinzufügen). Deshalb darf das Skript nur durch den
root-User geändert werden:
<code>sudo chown root:root /home/administrator/backup.sh</code> und
<code>sudo chmod 700 /home/administrator/backup.sh</code></p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="restore">Restore<a class="anchor" aria-label="anchor" href="#restore"></a></h2>
<hr class="half-width"><p>Ein Backup ist nur hilfreich, wenn es auch wieder hergestellt werden
kann. Deshalb sollte schon beim erstellen der Sicherung klar sein, wie
die Daten im Ernstfall wieder hergestellt werden könnnen. Im Falle von
Nextcloud können die Dateien im Backup-Verzeichnis gefunden werden. Von
dort können die Dateien wieder an den Ursprungsort kopiert werden (z.B.
mir rsync oder dem cp-Befehl). Die Datenbanksicherung kann wie folgt
wieder hergestellt werden:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">SQL<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode sql" tabindex="0"><code class="sourceCode sql"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>mysql <span class="op">-</span>h localhost <span class="op">-</span>u <span class="op">&lt;</span>username<span class="op">&gt;</span> <span class="op">-</span>p<span class="op">&lt;</span><span class="kw">password</span><span class="op">&gt;</span> <span class="op">-</span>e <span class="ot">"DROP DATABASE nextcloud"</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>mysql <span class="op">-</span>h localhost <span class="op">-</span>u <span class="op">&lt;</span>username<span class="op">&gt;</span> <span class="op">-</span>p<span class="op">&lt;</span><span class="kw">password</span><span class="op">&gt;</span> <span class="op">-</span>e <span class="ot">"CREATE DATABASE nextcloud CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci"</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>mysql <span class="op">-</span>h localhost <span class="op">-</span>u <span class="op">&lt;</span>username<span class="op">&gt;</span> <span class="op">-</span>p<span class="op">&lt;</span><span class="kw">password</span><span class="op">&gt;</span> <span class="op">&lt;</span>db_name<span class="op">&gt;</span> <span class="op">&lt;</span> nextcloud<span class="op">-</span>sqlbkp_2024<span class="op">-</span><span class="dv">10</span><span class="op">-</span><span class="dv">12</span><span class="op">-</span><span class="dv">14</span><span class="op">-</span><span class="dv">30</span><span class="op">-</span><span class="fl">44.</span>bak</span></code></pre>
</div>
<p>Das Handbuch schildert den <a href="https://docs.nextcloud.com/server/stable/admin_manual/maintenance/restore.html" class="external-link">Restore-Prozess</a>
ebenfalls.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Hauptpunkte</h3>
<div class="callout-content">
<ul><li><p>inkrementelle Backups sind speicherplatz- und
zeitsparend</p></li>
<li><p>besser ein mittelmäßiges Backup als gar kein Backup</p></li>
<li><p>Per Bash-Skript und cron-Job kann der Nextcloud-Server
automatisch gesichert werden</p></li>
</ul></div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Vorheriges und nächstes Kapitel"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="11-konfiguration-1.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Zurück</a>
        <a class="chapter-link float-end" href="13-konfiguration-2.html">Weiter<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="11-konfiguration-1.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Zurück: Installation und
        </a>
        <a class="chapter-link float-end" href="13-konfiguration-2.html" rel="next">
          Weiter: Konfiguration 2...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>Diese Lektion unterliegt dem <a href="CODE_OF_CONDUCT.html">Verhaltenskodex</a></p>
        <p>

        <a href="https://github.com/Dr-Eberle-Zentrum/self-hosted-datamanagement/edit/main/episodes/12-backup.Rmd" class="external-link">Auf GitHub bearbeiten</a>

	
        | <a href="https://github.com/Dr-Eberle-Zentrum/self-hosted-datamanagement/blob/main/CONTRIBUTING.md" class="external-link">Beitragen</a>
        | <a href="https://github.com/Dr-Eberle-Zentrum/self-hosted-datamanagement/" class="external-link">Quelle</a></p>
				<p><a href="https://github.com/Dr-Eberle-Zentrum/self-hosted-datamanagement/blob/main/CITATION.cff" class="external-link">Zitieren</a> | <a href="mailto:david.kirschenheuter@uni-tuebingen.de">Kontakt</a> | <a href="https://carpentries.org/about/" class="external-link">Über</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Vorlage lizenziert unter <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> von <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Erstellt mit <a href="https://github.com/carpentries/sandpaper/tree/0.16.12" class="external-link">sandpaper (0.16.12)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a> und <a href="https://github.com/Dr-Eberle-Zentrum/varnish/tree/801bcb40bf3fb18c37950e8d445d79e8aec39af7" class="external-link">varnish (1.0.4)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Zurück nach oben"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Zurück</span> nach oben
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://Dr-Eberle-Zentrum.github.io/self-hosted-datamanagement/12-backup.html",
  "inLanguage": "de",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "Datamanagement, Raspberry Pi, Nextcloud, Self-hosted",
  "name": "Backup",
  "creativeWorkStatus": "active",
  "url": "https://Dr-Eberle-Zentrum.github.io/self-hosted-datamanagement/12-backup.html",
  "identifier": "https://Dr-Eberle-Zentrum.github.io/self-hosted-datamanagement/12-backup.html",
  "dateCreated": "2024-08-02",
  "dateModified": "2025-05-28",
  "datePublished": "2025-05-28"
}

  </script><script>
		feather.replace();
	</script></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

